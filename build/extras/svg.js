"use strict";const e="http://www.w3.org/2000/svg",t=/[^-a-zA-Z0-9 .:/#%]/g,n=(t,n,r,s=[],o)=>{const i=o||t.createElementNS(e,n);return Object.entries(r).forEach((([e,t])=>i.setAttribute(e,t))),i.replaceChildren(...s),i},r=(e,n,r=[])=>[`<${e}`,...Object.entries(n).map((([e,n])=>` ${e}="${`${n}`.replaceAll(t,"")}"`)),">",...r,`</${e}>`].join(""),s=(e,t)=>{const n=e.get(t);return e.delete(t),n},o=e=>{const t=new Map,n=[];for(let r=0;r<=e.size;++r)for(let o=0;o<=e.size;++o){const i=e.get(o,r),l=e.get(o,r-1),a=[e.get(o-1,r)!==i&&o+" "+(r+1),o+" "+r,l!==i&&o+1+" "+r].filter((e=>e));if(a.length>1){i||a.reverse();const e=a.pop(),r=s(t,a[0])||[],o=s(t,e);r.push(...a),r===o?n.push(r):(o?o.unshift(...r):t.set(e,r),t.set(r[0],o||r))}}return n.map((e=>`M${e.join("L")}Z`)).join("")},i=(t,{on:n="black",off:r,padX:s=4,padY:i=4,width:l,height:a,scale:c=1},g,h)=>{const p=t.size+2*s,d=t.size+2*i;return g("svg",{xmlns:e,version:"1.1",viewBox:`${-s} ${-i} ${p} ${d}`,width:l??p*c,height:a??d*c,"shape-rendering":"crispedges"},[r?g("rect",{x:-s,y:-i,width:p,height:d,fill:r}):"",g("path",{d:o(t),fill:n})],h)},l=(e,t={})=>(t.xmlDeclaration?'<?xml version="1.0" encoding="UTF-8" ?>':"")+i(e,t,r);exports.toSvg=(e,t,r={})=>t.body?i(e,r,n.bind(null,t)):i(e,r,n.bind(null,t.ownerDocument),t),exports.toSvgDataURL=(e,t)=>"data:image/svg;base64,"+btoa(l(e,{xmlDeclaration:!0,...t})),exports.toSvgPath=o,exports.toSvgSource=l;
