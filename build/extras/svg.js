!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["lean-qr-svg"]={})}(this,(function(e){"use strict";const t="http://www.w3.org/2000/svg",n=/[^-a-zA-Z0-9 .:/#%]/g,o=function(e,n,o){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4?arguments[4]:void 0;const l=r||e.createElementNS(t,n);return Object.entries(o).forEach((e=>{let[t,n]=e;return l.setAttribute(t,n)})),l.replaceChildren(...i),l},i=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return[`<${e}`,...Object.entries(t).map((e=>{let[t,o]=e;return` ${t}="${String(o).replaceAll(n,"")}"`})),">",...o,`</${e}>`].join("")},r=(e,t)=>{const n=e.get(t);return e.delete(t),n},l=e=>{const t=e.size,n=(n,o)=>n>=0&&n<t&&o>=0&&o<t&&e.get(n,o),o=new Map,i=[];for(let e=0;e<=t;++e)for(let l=0;l<=t;++l){const t=n(l,e),s=n(l,e-1),u=n(l-1,e);if(t===s&&t===u)continue;const c=[u!==t&&l+" "+(e+1),l+" "+e,s!==t&&l+1+" "+e].filter((e=>e));t||c.reverse();const f=c.pop(),d=r(o,c[0])||[],h=r(o,f);d.push(...c),d!==h?(h?h.unshift(...d):o.set(f,d),o.set(d[0],h||d)):i.push(d)}return i.map((e=>`M${e.join("L")}Z`)).join("")},s=(e,n,o,i)=>{let{on:r="black",off:s,padX:u=4,padY:c=4,width:f,height:d,scale:h=1}=n;const g=e.size+2*u,p=e.size+2*c;return o("svg",{xmlns:t,version:"1.1",viewBox:`${-u} ${-c} ${g} ${p}`,width:f??g*h,height:d??p*h},[s?o("rect",{x:-u,y:-c,width:g,height:p,fill:s}):"",o("path",{d:l(e),fill:r})],i)};e.toSvg=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.body?s(e,n,o.bind(null,t)):s(e,n,o.bind(null,t.ownerDocument),t)},e.toSvgPath=l,e.toSvgSource=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(e,t,i)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=svg.js.map
