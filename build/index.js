!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("lean-qr",[],e):"object"==typeof exports?exports["lean-qr"]=e():t["lean-qr"]=e()}(global,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";n.r(e),n.d(e,"correction",(function(){return s})),n.d(e,"mode",(function(){return u})),n.d(e,"generate",(function(){return S}));function r(t){const e=t>>18,n=t>>12&63,r=t>>5&127;return{capBits:8*(n*r+e*(r+1)),groups:e?[[n,r],[e,r+1]]:[[n,r]],ecsize:31&t}}const o=[{id:1,v:[4711,5194,5871,6676,7578,10386,10708,11320,11934,534674,18996,535448,19834,278142,285430,285784,1318268,286494,1064508,1326460,1068700,1846780,1331006,1076926,1084762,568924,1085278,2637502,1867422,2645630,843390,73342,335486,1629822,1888062,3698494,1122142,4738910,1134270,1654494].map(r)},{id:0,v:[4618,5008,5530,9234,9592,17264,17394,533718,537750,279930,1054302,550038,296118,1328408,1332536,816572,304604,1086842,2897306,3421498,71002,71132,3687932,3696060,3442172,1127900,878012,6043068,1922492,2700796,7611868,6071772,5563868,6088156,6866428,8939004,3790300,8443356,2000380,8201724].map(r)},{id:3,v:[4525,4822,8754,8986,532978,17016,1057234,541270,1065492,549496,1065692,1589914,1082008,1356308,1856286,586360,3936988,332508,1118906,1372958,1643228,4223774,3715870,4240158,5796638,1688284,6849278,8143646,9704190,6615838,434974,9216798,5100318,2016030,3830558,2810654,2822942,3867422,5944094,9052958].map(r)},{id:2,v:[4401,4636,8630,16688,532854,16892,278970,541146,1065368,549372,2109848,1077724,1098102,1356184,1880472,3420670,4465116,4989404,4231610,2683388,1651230,139704,3736062,647710,3498494,1184286,7389694,8172030,6894078,6648318,7434750,9253374,12104190,504350,10838526,16785918,12157438,8561150,17605118,16073214].map(r)}],s={min:0,L:0,M:1,Q:2,H:3,max:3},i=t=>"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".indexOf(t);var u={multi:(...t)=>(e,n)=>t.forEach(t=>t(e,n)),numeric:t=>(e,n)=>{e.push(1,4),e.push(t.length,n<10?10:n<27?12:14);let r=0;for(;r<t.length-2;r+=3)e.push(Number(t.substr(r,3)),10);r<t.length-1?e.push(Number(t.substr(r,2)),7):r<t.length&&e.push(Number(t.substr(r,1)),4)},alphaNumeric:t=>(e,n)=>{e.push(2,4),e.push(t.length,n<10?9:n<27?11:13);let r=0;for(;r<t.length-1;r+=2)e.push(45*i(t[r])+i(t[r+1]),11);r<t.length&&e.push(i(t[r]),6)},iso8859_1:t=>(e,n)=>{e.push(4,4),e.push(t.length,n<10?8:16);for(let n=0;n<t.length;++n)e.push(t.codePointAt(n),8)}};class l{constructor(t){this.bytes=new Uint8Array(t),this.bits=0}push(t,e){for(let n=e,r=8-(7&this.bits);n>0;n-=r,r=8)this.bytes[this.bits>>>3]|=t<<r>>>n,this.bits+=Math.min(n,r)}padByte(){this.bits=this.bits+7&-8}}class c{constructor({size:t,d:e}){this.size=t,this.d=new Uint8Array(e||t*t)}get(t,e){return!!(1&this.d[e*this.size+t])}masked(t,e){return 2&this.d[e*this.size+t]}set(t,e,n,r=1){this.d[e*this.size+t]=2*r|!!n}inv(t,e){this.d[e*this.size+t]^=1}toString({on:t="##",off:e="  ",lf:n="\n",padX:r=4,padY:o=4}={}){const s=(e.repeat(this.size+2*r)+n).repeat(o),i=e.repeat(r);let u=s;for(let r=0;r<this.size;++r){u+=i;for(let n=0;n<this.size;++n)u+=this.get(n,r)?t:e;u+=i+n}return u+s}}var f=[(t,e)=>!(1&(t^e)),(t,e)=>!(1&e),t=>!(t%3),(t,e)=>!((t+e)%3),(t,e)=>!(1&(Math.floor(t/3)^Math.floor(e/2))),(t,e)=>!((t&e&1)+t*e%3),(t,e)=>!((t&e&1)+t*e%3&1),(t,e)=>!((1&(t^e))+t*e%3&1)];const a=new Uint8Array(512);a[0]=1;for(let t=0,e=1;t<255;a[++t]=e)a[e+256]=t,e*=2,256&e&&(e^=285);const h=t=>a[t%255],p=t=>a[t+256];function d(t,e){const n=new Uint8Array(t.length+e.length-1);for(let r=0;r<t.length;++r)for(let o=0;o<e.length;++o)n[r+o]^=h(t[r]+e[o]);return n.map(p)}function g(t,e){const n=new Uint8Array(t.length+e.length-1);n.set(t,0);for(let r=0;r<t.length;++r)if(n[r]){const t=p(n[r]);for(let o=0;o<e.length;++o)n[r+o]^=h(e[o]+t)}return n.slice(t.length)}const m=[[0],[0,0]];for(let t=1,e=m[1];t<30;++t){const n=d(e,[0,t]);m.push(n),e=n}function b(t,e,n){let r=e;const o=Math.max(...n.map(t=>t.length));for(let e=0;e<o;++e)n.forEach(n=>{e<n.length&&(t[r++]=n[e])});return r}function y(t,{groups:e,ecsize:n}){const r=[],o=[];let s=0,i=0;e.forEach(([e,u])=>{for(let i=0;i<e;++i,s+=u){const e=t.slice(s,s+u);r.push(e),o.push(g(e,m[n]))}i+=e*(u+n)});const u=new Uint8Array(i),l=b(u,0,r);return b(u,l,o),u}function v(t,e,n){let r=t<<n-1;for(let t=1073741824;t;t>>>=1)r&t&&(r^=e*(t>>>n-1));return r}function z(t,e,n,r,o,s){for(let i=n;i<o;++i)for(let n=e;n<r;++n)t.set(n,i,s)}function w(t,e,n){z(t,e-3,n-3,e+4,n+4,1),z(t,e-2,n-2,e+3,n+3,0),z(t,e-1,n-1,e+2,n+2,1)}function x(t,e,n){z(t,e-2,n-2,e+3,n+3,1),z(t,e-1,n-1,e+2,n+2,0),t.set(e,n,1)}function M(t){const e=t.size,n=[];for(let r=e-2,o=e,s=-1;r>=0;r-=2){for(5===r&&(r=4);o+=s,-1!==o&&o!==e;)t.masked(r+1,o)||n.push([r+1,o]),t.masked(r,o)||n.push([r,o]);s*=-1}return n}function j(t,e,n){e.forEach(([e,r],o)=>t.set(e,r,n[o>>3]<<(7&o)&128,0))}function E(t,e,n,r){for(let n=0;n<t.size;++n)for(let r=0;r<t.size;++r)e(r,n)&&!t.masked(r,n)&&t.inv(r,n);const o=r<<3|n,s=21522^(o<<10|v(o,1335,11));let i=16384;for(let e=0;e<7;++e){const n=s&i;t.set(6===e?7:e,8,n),t.set(8,t.size-e-1,n),i>>>=1}for(let e=0;e<8;++e){const n=s&i;t.set(8,(e>1?7:8)-e,n),t.set(t.size-8+e,8,n),i>>>=1}}function O(t,e,n){for(let r=0;r<t.size;++r){let o=e,s=e;for(let e=0;e<t.size;++e)o=n(o,t.get(e,r)),s=n(s,t.get(r,e))}}function A(t){return function(t){let e=0;return O(t,[0,void 0],([t,n],r)=>r!==n?[1,r]:(4===t?e+=3:t>4&&++e,[t+1,n])),e}(t)+3*function(t){let e=0;for(let n=0;n<t.size-1;++n){let r=t.get(n,0),o=t.get(n+1,0)===r;for(let s=1;s<t.size;++s){const i=t.get(n,s),u=t.get(n+1,s)===i;e+=o&&u&&r===i,r=i,o=u}}return e}(t)+40*function(t){let e=0;return O(t,0,(t,n)=>{const r=(t>>>1|2098176)&(3047517^(n?0:-1));return 2049&r&&++e,r}),e}(t)+function(t){let e=0;for(let n=0;n<t.size;++n)for(let r=0;r<t.size;++r)e+=t.get(r,n);return 10*Math.floor(20*Math.abs(e/(t.size*t.size)-.5))}(t)}const I=new Map;function N(t){if(!I.has(t)){const e=new c({size:4*t+17});!function(t,e){const n=4*e+17;w(t,3,3),w(t,n-4,3),w(t,3,n-4),z(t,0,7,9,9,0),z(t,7,0,9,7,0),z(t,n-8,7,n,9,0),z(t,n-8,0,n-7,7,0),z(t,7,n-8,9,n,0),z(t,0,n-8,7,n-7,0),t.set(8,n-8,1);for(let e=8;e<n-8;++e)t.set(e,6,!(1&e)),t.set(6,e,!(1&e));if(e>=2){const r=Math.floor(e/7)+1,o=2*Math.ceil((n-13)/r/2-.25),s=[6];for(let t=r;t-- >0;)s.push(n-7-t*o);for(let e=0;e<=r;++e)for(let n=0;n<=r;++n)0===e&&0===n||0===e&&n===r||e===r&&0===n||x(t,s[e],s[n])}if(e>=7){const r=e<<12|v(e,7973,13);let o=1<<17;for(let e=6;e-- >0;)for(let s=0;s<3;++s){const i=r&o;t.set(e,n-9-s,i),t.set(n-9-s,e,i),o>>>=1}}}(e,t),I.set(t,{code:e,path:M(e)})}const e=I.get(t);return{code:new c(e.code),path:e.path}}function P(t,e){let n=null,r=Number.POSITIVE_INFINITY;return f.forEach((o,s)=>{const i=new c(t);E(i,o,s,e.id);const u=A(i);u<r&&(n=i,r=u)}),n}function S(t,{minCorrectionLevel:e=s.min,maxCorrectionLevel:n=s.max,minVersion:r=1,maxVersion:i=40,mask:u=null}={}){if(n<e)throw new Error("Invalid correction level range");if(i<r)throw new Error("Invalid version range");let c=0;for(let s=r;s<=i;++s){if(o[e].v[s-1].capBits<c)continue;const r=new l(2956);t(r,s),c=r.bits;for(let t=n;t>=e;--t){const e=o[t],n=e.v[s-1];if(n.capBits<c)continue;for(r.push(0,4),r.padByte();r.bits<n.capBits;)r.push(60433,16);const{code:i,path:l}=N(s);return j(i,l,y(r.bytes,n)),null!==u?(E(i,f[u],u,e.id),i):P(i,e)}}throw new Error("Too much data")}}])}));
//# sourceMappingURL=index.js.map